<html>


<head>
<title>EcoThreads</title>
<link rel="stylesheet" type="text/css" href="styles.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
<style>
h2 {
margin-top: 50px; /* Add margin to create space above the "Register" text */
}
</style>
</head>
    <div class="header">
        <img src="C:\Users\puppy\Documents\BREANNA\Hackathon\Hackbytes II 2023\Hackbytes Test\ecoThreadsLogo2.png" alt="ecoThreads Logo" id="logoImg">
    </div>

<body>
<div class="header">
</div>
<nav class="navbar">
<ul class="nav-links">
<li><a href="home.html">Home</a></li>
<li><a href="index.html">Swap</a></li>
<li><a href="leader.html">Leaderboard</a></li>
<li><a href="tips.html">Sustainable Clothing Tips</a></li>
<li><a href="register.html">Register</a></li>
<li><a href="signin.html">Sign In</a></li>
</ul>
</nav>
<main>
<div>
<h2>Login</h2>
<form>
<hr>
<label for="email"><b>Email</b></label>
<input type="email" placeholder="Enter Email" name="email" id="email" required>
<label for="psw"><b>Password</b></label>
<input type="password" placeholder="Password" name="psw" id="psw" required>
<hr>
<button type="submit" id="signInButton" name="submitData" class="signinbtn">Sign In</button>
</form>
</div>
</main>
<footer>
Â© 2023 EcoThreads
</footer>
</body>


<script type="module">
// Import the functions you need from the SDKs you need
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";
import { getDatabase, set, ref, update } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries
// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
apiKey: "AIzaSyCvMOjQl4yIlrDhYWv9FNc12u9cj-feiKo",
authDomain: "test-c9a8c.firebaseapp.com",
databaseURL: "https://test-c9a8c-default-rtdb.firebaseio.com/",
projectId: "test-c9a8c",
storageBucket: "test-c9a8c.appspot.com",
messagingSenderId: "662881287929",
appId: "1:662881287929:web:d352f10afcad3237e6ec28",
measurementId: "G-9K7GNEGNHF"
};
// Initialize Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth();
const database = getDatabase(app);


signInButton.addEventListener('click', (e) => {
e.preventDefault();


var email = document.getElementById('email').value;
var password = document.getElementById('psw').value;


signInWithEmailAndPassword(auth, email, password)
.then((userCredential) => {
// Signed in
const user = userCredential.user;
// ...
var lgDate = new Date();
update(ref(database, 'users/' + user.uid), {
last_login: lgDate,
})
.then(() => {
// Data saved successfully!
alert('User logged in successfully');
})
.catch((error) => {
// The write failed...
alert(error);
});
})
.catch((error) => {
const errorCode = error.code;
const errorMessage = error.message;
alert(errorMessage);
});


});
</script>


</html>